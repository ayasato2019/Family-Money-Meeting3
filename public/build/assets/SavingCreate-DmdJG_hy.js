import{j as e,r as d,m as f,L as h}from"./app-DAVo1ZCX.js";import{P as p}from"./ButtonPrimary-BuncCTSv.js";import{I as m}from"./InputText-DRg0KAk2.js";import{C as g}from"./Checkbox-Bul9U7dt.js";import{I as j}from"./InputLabel-DWFThblY.js";function b({className:t="",title:s,...n}){return e.jsx("h2",{className:"block text-center border-b border-primary py-1 text-lg font-bold leading-5 transition duration-150 ease-in-out focus:outline-none "+t,children:s})}function v({value:t,name:s,onChange:n,className:c="",...u}){const i=()=>{const o=(Number(t)||0)+100;n({target:{value:o.toString()}})},r=()=>{const o=Math.max(0,(Number(t)||0)-100);n({target:{value:o.toString()}})},a=o=>{n(o)};return e.jsxs("div",{className:`inline-flex items-center justify-center bg-white px-2 rounded-md w-auto h-10 border border-solid border-gray-300 shadow-sm  ${c}`,children:[e.jsx("button",{type:"button",onClick:r,className:"relative","aria-label":"Decrease price",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:20,height:20,children:e.jsx("path",{fill:"#6313B9",d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM184 232l144 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-144 0c13.3 0-24-10.7-24-24s10.7-24 24-24z"})})}),e.jsx("input",{name:s,type:"number",className:"text-black bg-white text-right border-0 focus:ring-0 focus:outline-none py-0 w-full background-none ",value:t,onChange:a,"aria-label":"Price",...u}),e.jsx("button",{type:"button",onClick:i,className:"relative","aria-label":"Increase price",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:20,height:20,children:e.jsx("path",{fill:"#6313B9",d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"})})})]})}const w=d.forwardRef(function({type:s="date",className:n="",isFocused:c=!1,...u},i){const r=d.useRef(null);return d.useImperativeHandle(i,()=>({focus:()=>{var a;return(a=r.current)==null?void 0:a.focus()}})),d.useEffect(()=>{var a;c&&((a=r.current)==null||a.focus())},[c]),d.useEffect(()=>{if(s==="date"&&r.current){const a=new Date().toISOString().split("T")[0];r.current.value=a}},[s]),e.jsx("input",{...u,type:s,className:"rounded-md border-gray-300 shadow-sm p-2 text-sm leading-normal focus:border-indigo-500 focus:ring-indigo-500 "+n,ref:r})});function _(){const{data:t,setData:s,post:n,reset:c,processing:u}=f({goal_id:"",title:"",amount:0,deadline:"",level:1,images:"",is_shared:1,memo:""}),i=(l,x)=>{s({...t,[l]:x})},r=document.querySelector("meta[name='csrf-token']"),a=d.useRef(r.content),o=l=>{l.preventDefault(),n("/saving_registration",{onSuccess:()=>c()})};return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"目標を登録"}),e.jsx("div",{className:"overflow-hidden flex items-center justify-center w-full h-full",children:e.jsx("div",{className:"contents_box overflow-auto flex flex-col gap-5 pb-5 w-full md:max-w-[64vmin] h-screen md:border-solid border-0 md:border-8 md:border-black md:rounded-2xl ",children:e.jsx("div",{className:"flex flex-col gap-8",children:e.jsxs("form",{onSubmit:o,children:[e.jsx("input",{type:"hidden",name:"_token",value:a.current}),e.jsx("input",{type:"hidden",name:"level",value:1}),e.jsxs("div",{className:"flex flex-col gap-5 p-5",children:[e.jsx(b,{title:"もくひょうを 立てよう！"}),e.jsx("div",{children:e.jsxs("label",{className:"flex flex-col items-center justify-start gap-1",children:[e.jsx("span",{children:"もくひょう"}),e.jsx(m,{name:"title",value:t.title,placeholder:"(れい) 宇宙飛行士になりたい",onChange:l=>i("title",l.target.value),className:"w-full mt-1 text-black placeholder:italic placeholder:text-darkgray focus:outline-2 focus:outline-purple",required:!0})]})}),e.jsxs("div",{className:"flex flex-col items-center justify-between gap-1",children:[e.jsx("span",{children:"いつ までに たっせい する？"}),e.jsx(w,{name:"deadline",value:t.deadline,onChange:l=>i("deadline",l.target.value),className:"w-full mt-1 text-black placeholder:italic placeholder:text-darkgray focus:outline-2 focus:outline-purple",required:!0})]}),e.jsxs("div",{className:"flex flex-col items-center justify-between gap-1",children:[e.jsx("span",{children:"いくら ためる？"}),e.jsx(v,{name:"amount",value:t.amount,onChange:l=>i("amount",l.target.value),className:"w-full mt-1 text-black placeholder:italic placeholder:text-darkgray focus:outline-2 focus:outline-purple",required:!0})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex flex-col items-center justify-between gap-1",children:[e.jsx("span",{children:"メモを かこう"}),e.jsx(m,{name:"memo",value:t.memo,onChange:l=>i("memo",l.target.value),className:"w-full mt-1 text-black placeholder:italic placeholder:text-darkgray focus:outline-2 focus:outline-purple"})]})}),e.jsxs("div",{className:"flex",children:[e.jsx(g,{name:"is_share",checked:t.is_shared===0,onChange:l=>s("is_shared",l.target.checked?0:1)}),e.jsx(j,{htmlFor:"is_share",value:"家族と共有する"})]}),e.jsx("div",{className:"mx-auto mt-5",children:e.jsx(p,{type:"submit",children:"登録"})})]})]})})})})]})}export{_ as default};
