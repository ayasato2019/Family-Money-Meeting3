import{j as e,r as j,K as v}from"./app-a5Z67Sxk.js";function b({amount:s,level:l}){const i=s%1e3/1e3*100;return e.jsx("div",{className:"overflow-hidden w-full bg-gray rounded-sm ",children:e.jsx("div",{className:"h-full bg-gradation",style:{width:`${i}%`,transition:"width 0.5s ease"}})})}function w({useName:s,donation:l,level:i}){return e.jsxs("div",{className:"overflow-hidden flex-col items-center justify-center bg-gray-900/85 px-1 pt-0.5 pb-1 rounded-md w-1/3 max-w-80 shadow-xl text-white",children:[e.jsx("p",{className:"text-sm font-bold",children:s}),e.jsxs("p",{className:"text-xs mb-0.5",children:["Level.",i]}),e.jsx(b,{amount:l,level:i})]})}function m({variant:s,budgetControl:l,className:i,...c}){let n="";return s==="need"?n="bg-green border-green":s==="want"?n="bg-orange border-orange":s==="assets"?n="bg-pink border-pink":s==="liabilities"&&(n="bg-blue border-blue"),e.jsx("div",{...c,className:`inline-flex items-center justify-center h-6 rounded-[12px] border px-2 py-1 break-keep text-xs font-bold text-white uppercase tracking-widest ${n} ${i}`,children:s==="need"?"必要":s==="want"?"浪費":s==="assets"?"しさん":"つかう"})}function N(){return e.jsx("span",{className:"unit-yen",children:"円"})}function f({price:s}){if(s===void 0)return e.jsx("span",{children:"価格がありません"});const l=Math.floor(s);return e.jsxs("span",{children:[l.toLocaleString("ja-JP"),e.jsx(N,{})]})}function y({isOpen:s,savings:l,investment:i,essential:c,extravagance:n,plannedExtravagance:t,donation:o}){const x=l+i,r=c+o,u=n;return e.jsxs("div",{className:"overflow-hidden flex flex-col items-start justify-center gap-1 bg-gray-900/85 px-2 pt-0.5 pb-1 rounded-md max-w-80 shadow-xl text-white",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 pb-0.5 w-full h-auto border-b border-dotted border-white pr-3",children:[e.jsx(m,{variant:"assets"}),e.jsx("p",{className:"text-sm",children:e.jsx(f,{price:x})})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2 pb-0.5 w-full h-auto border-b border-dotted border-white pr-3",children:[e.jsx(m,{variant:"liabilities"}),e.jsx("p",{className:"text-sm ",children:e.jsx(f,{price:r})})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2 w-full h-auto",children:[e.jsxs("div",{className:"flex items-center justify-center gap-0.5",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"button-savig w-5 h-5",children:e.jsx("path",{d:"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-224c0-35.3-28.7-64-64-64L80 128c-8.8 0-16-7.2-16-16s7.2-16 16-16l368 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L64 32zM416 272a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})}),e.jsx("p",{className:"text-sm font-semibold",children:"よゆう"})]}),e.jsxs("div",{className:"relative flex items-center justify-center gap-0.5 pr-3",children:[e.jsx("p",{className:"text-md mb-0.5 font-bold",children:e.jsx(f,{price:u})}),e.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"5",fill:"none",className:`transition-transform duration-300 ${s?"rotate-180":""}`,children:e.jsx("path",{fill:"#FFF",d:"M4.655 3.933a1 1 0 0 1-1.31 0L.831 1.756C.131 1.15.561 0 1.486 0h5.028c.926 0 1.354 1.15.655 1.756z"})})})]})]})]})}function $({useName:s,savings:l,investment:i,essential:c,extravagance:n,plannedExtravagance:t,donation:o,level:x}){const[r,u]=j.useState(!1),h=()=>{u(a=>!a)};return e.jsx("div",{className:"absolute top-2 left-2 w-[calc(100%-16px)] h-8 z-10 transition-all duration-300",children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx(w,{donation:o,level:x,useName:s}),e.jsx("div",{onClick:h,className:`absolute right-0 w-1/2 flex items-stert justify-end transition-all duration-300 ${r?"top-0":"top-[-68px]"}`,children:e.jsx(y,{isOpen:r,savings:l,investment:i,essential:c,extravagance:n,plannedExtravagance:t,donation:o})})]})})}function I({category:s}){const{auth:l,avatar:i,statuses:c}=v().props,n=l.user;if(!n)return e.jsx("div",{children:"ユーザー情報が取得できません"});const t=(c==null?void 0:c[n.id])??{},o={0:"primary",1:"blue",2:"pink",3:"green",4:"orange",5:"gray",6:"yellow"}[s];t==null||t.saving,t==null||t.investment,t==null||t.need,t==null||t.want;const x=(t==null?void 0:t.donation)??0,r={...n,...t,game_level:1,game_life:4},u=()=>{switch(s){case 0:return e.jsx("div",{children:"ホーム画面"});case 1:return e.jsx("div",{children:"貯金のグラフ"});case 2:return e.jsx("div",{children:"投資のグラフ"});case 3:return e.jsx("div",{children:"必要のグラフ"});case 4:return e.jsx("div",{children:"欲しいのグラフ"});case 5:return e.jsx("div",{children:"寄付のグラフ"});case 6:return e.jsx("div",{children:"家計簿のグラフ"});default:return null}},h=x;let a=h,d="";h<1e3?(a=1,d="1"):a<2e3?(a=2,d="2"):a<3e3?(a=3,d="3"):a<4e3?(a=4,d="4"):a<5e3&&(a=5,d="5");const p=r.want,g=`${"http://localhost".replace(/\/$/,"")}/storage/images/bg/bg_${d}.webp`;return e.jsxs("div",{className:"relative overflow-hidden aspect-video bg-slate-50 min-h-80 w-full max-w-full mt-2 rounded-lg",children:[e.jsx($,{useName:r.name,donation:r.donation,level:r.game_level,savings:r.saving,investment:r.investment,essential:r.need,extravagance:r.want,plannedExtravagance:p}),e.jsx("div",{style:{backgroundImage:`url(${g})`},className:`overflow-hidden relative bg-${o} w-full h-full bg-center bg-cover min-h-80`,children:e.jsx("div",{className:"overflow-hidden absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] w-full h-full object-cover object-center flex items-center justify-center",children:u()})})]})}export{f as C,I as F};
