import{j as e,r as u,m as h,L as p}from"./app-B8wn2_oF.js";import{A as g}from"./AuthenticatedLayout-C27l9Y6y.js";import{F as j}from"./FarstView-7931atLk.js";import{P as b}from"./ButtonPrimary-D3Wh1e7b.js";import{I as m}from"./InputText-BF6IUdTD.js";import{C as v}from"./Checkbox-CDy3O8wg.js";import{I as w}from"./InputLabel-Di_fGgAk.js";import"./ApplicationLogo-DSukcMWz.js";function y({className:t="",title:l,...n}){return e.jsx("h2",{className:"block text-center border-b border-primary py-1 text-lg font-bold leading-5 transition duration-150 ease-in-out focus:outline-none "+t,children:l})}function N({value:t,name:l,onChange:n,className:o="",...d}){const i=()=>{const c=(Number(t)||0)+100;n({target:{value:c.toString()}})},r=()=>{const c=Math.max(0,(Number(t)||0)-100);n({target:{value:c.toString()}})},s=c=>{n(c)};return e.jsxs("div",{className:`inline-flex items-center justify-center bg-white px-2 rounded-md w-auto h-10 border border-solid border-gray-300 shadow-sm  ${o}`,children:[e.jsx("button",{type:"button",onClick:r,className:"relative","aria-label":"Decrease price",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:20,height:20,children:e.jsx("path",{fill:"#6313B9",d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM184 232l144 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-144 0c13.3 0-24-10.7-24-24s10.7-24 24-24z"})})}),e.jsx("input",{name:l,type:"number",className:"text-black bg-white text-right border-0 focus:ring-0 focus:outline-none py-0 w-full background-none ",value:t,onChange:s,"aria-label":"Price",...d}),e.jsx("button",{type:"button",onClick:i,className:"relative","aria-label":"Increase price",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:20,height:20,children:e.jsx("path",{fill:"#6313B9",d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"})})})]})}const k=u.forwardRef(function({type:l="date",className:n="",isFocused:o=!1,...d},i){const r=u.useRef(null);return u.useImperativeHandle(i,()=>({focus:()=>{var s;return(s=r.current)==null?void 0:s.focus()}})),u.useEffect(()=>{var s;o&&((s=r.current)==null||s.focus())},[o]),u.useEffect(()=>{if(l==="date"&&r.current){const s=new Date().toISOString().split("T")[0];r.current.value=s}},[l]),e.jsx("input",{...d,type:l,className:"rounded-md border-gray-300 shadow-sm p-2 text-sm leading-normal focus:border-indigo-500 focus:ring-indigo-500 "+n,ref:r})});function T(){const{data:t,setData:l,post:n,reset:o,processing:d}=h({goal_id:"",title:"",amount:0,deadline:"",level:1,images:"",is_shared:0,memo:""}),i=(a,f)=>{l({...t,[a]:f})},r="ちょきん",s=document.querySelector("meta[name='csrf-token']"),c=u.useRef(s.content),x=a=>{a.preventDefault(),n("/saving_registration",{onSuccess:()=>o()})};return e.jsxs(g,{header:e.jsx("h1",{className:"w-full flex items-center justify-center text-xl font-semibold leading-tight text-gray-800",children:r}),children:[e.jsx(p,{title:r}),e.jsx(j,{category:1}),e.jsx("div",{className:"overflow-hidden flex items-center justify-center w-full h-full",children:e.jsx("div",{className:"contents_box w-full",children:e.jsx("div",{className:"flex flex-col gap-8",children:e.jsxs("form",{onSubmit:x,children:[e.jsx("input",{type:"hidden",name:"_token",value:c.current}),e.jsx("input",{type:"hidden",name:"level",value:1}),e.jsxs("div",{className:"flex flex-col gap-5 p-5",children:[e.jsx(y,{title:"もくひょうを 立てよう！"}),e.jsx("div",{children:e.jsxs("label",{className:"flex flex-col items-center justify-start gap-1",children:[e.jsx("span",{children:"もくひょう"}),e.jsx(m,{name:"title",value:t.title,placeholder:"(れい) 宇宙飛行士になりたい",onChange:a=>i("title",a.target.value),className:"w-full mt-1 text-black placeholder:italic placeholder:text-darkgray focus:outline-2 focus:outline-purple",required:!0})]})}),e.jsxs("div",{className:"flex flex-col items-center justify-between gap-1",children:[e.jsx("span",{children:"いつ までに たっせい する？"}),e.jsx(k,{name:"deadline",value:t.deadline,onChange:a=>i("deadline",a.target.value),className:"w-full mt-1 text-black placeholder:italic placeholder:text-darkgray focus:outline-2 focus:outline-purple",required:!0})]}),e.jsxs("div",{className:"flex flex-col items-center justify-between gap-1",children:[e.jsx("span",{children:"いくら ためる？"}),e.jsx(N,{name:"amount",value:t.amount,onChange:a=>i("amount",a.target.value),className:"w-full mt-1 text-black placeholder:italic placeholder:text-darkgray focus:outline-2 focus:outline-purple",required:!0})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex flex-col items-center justify-between gap-1",children:[e.jsx("span",{children:"メモを かこう"}),e.jsx(m,{name:"memo",value:t.memo,onChange:a=>i("memo",a.target.value),className:"w-full mt-1 text-black placeholder:italic placeholder:text-darkgray focus:outline-2 focus:outline-purple"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{name:"is_share",checked:t.is_shared===0,onChange:a=>l("is_shared",a.target.checked?0:1)}),e.jsx(w,{htmlFor:"is_share",value:"家族と共有する"})]}),e.jsx("div",{className:"mx-auto mt-5",children:e.jsx(b,{type:"submit",children:"登録"})})]})]})})})})]})}export{T as default};
