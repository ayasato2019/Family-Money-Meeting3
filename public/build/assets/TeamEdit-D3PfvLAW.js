import{K as b,m as g,r as N,j as e}from"./app-a5Z67Sxk.js";import{I as k}from"./InputError-4PDsNCKS.js";import{I as o}from"./InputLabel-D6vJR-Sm.js";import{P as y}from"./PrimaryButton-nhEvVEjN.js";import{C}from"./Checkbox-C7jCAUav.js";import{T as r}from"./TextInput-C8uLJfbC.js";function L(){const{auth:l,team_id:i,team_members:m,loginChildUrl:c,qrCodeBase64:d}=b().props,n=(l==null?void 0:l.user)||null,h=i??0,u=m??[];console.log("受け渡し値"+d);const{data:a,setData:t,post:p,processing:x,errors:j,reset:_}=g({childs_name:"",role_child:1,password:"password",password_confirmation:"password",birth_date:"",team_id:h}),f=s=>{s.preventDefault(),p(route("teams-member-add"),{onFinish:()=>_("password","password_confirmation")})},v=document.querySelector("meta[name='csrf-token']"),w=N.useRef(v.content);return e.jsxs(e.Fragment,{children:[u.length>0?e.jsx(e.Fragment,{children:e.jsxs("details",{className:"accordion",children:[e.jsx("summary",{children:"ログインURL"}),e.jsxs("p",{className:"break-all",children:["URL: ",c]}),d&&e.jsxs("div",{children:[e.jsx("p",{children:"QRコード:"}),e.jsx("img",{src:d??"",alt:"ログインQRコード"})]})]})}):e.jsx("p",{children:"現在メンバーはいません。"}),(n==null?void 0:n.role)===10?e.jsxs("details",{className:"accordion",children:[e.jsx("summary",{children:"メンバーを追加"}),e.jsxs("form",{onSubmit:f,children:[e.jsx(r,{id:"csrf",type:"hidden",name:"_token",value:w.current,required:!0}),e.jsx(r,{id:"team_id",type:"hidden",name:"team_id",value:a.team_id,required:!0}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"childs_name",value:"新しいメンバー名"}),e.jsx(r,{id:"childs_name",name:"childs_name",value:a.childs_name,className:"mt-1 block w-full",onChange:s=>t("childs_name",s.target.value),required:!0})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(C,{name:"role_child",checked:a.role_child===0,onChange:s=>t("role_child",s.target.checked?0:1)}),e.jsx(o,{htmlFor:"role_child",value:"管理者権限"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"birth_date",value:"生年月日"}),e.jsx(r,{id:"birth_date",type:"date",name:"birth_date",value:a.birth_date,className:"mt-1 block w-full",onChange:s=>t("birth_date",s.target.value),required:!0})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx(o,{htmlFor:"password",value:"仮パスワード"}),e.jsx(r,{id:"password",type:"text",name:"password",value:a.password,className:"mt-1 block w-full",onChange:s=>t("password",s.target.value),required:!0}),e.jsx(k,{message:j.password,className:"mt-2"})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx(o,{htmlFor:"password_confirmation",value:"パスワード（確認）"}),e.jsx(r,{id:"password_confirmation",type:"text",name:"password_confirmation",value:a.password_confirmation,className:"mt-1 block w-full",onChange:s=>t("password_confirmation",s.target.value),required:!0})]}),e.jsx("div",{className:"my-4 flex items-center justify-end",children:e.jsx(y,{className:"mx-auto",disabled:x,children:"登録"})})]})]}):""]})}export{L as default};
