import{r as g,m as A,K as E,j as e,L as W}from"./app-B8wn2_oF.js";import{A as O,U as D}from"./AuthenticatedLayout-C27l9Y6y.js";import{a as d,C as G}from"./Comment-q4ijhtHV.js";import{C as r}from"./PriceConvert-BWt1l54r.js";import"./ApplicationLogo-DSukcMWz.js";import"./Modal-8Sv00nDZ.js";import"./transition-B3nmiso2.js";import"./dialog-CK_na15o.js";import"./PrimaryButton-DCsNEBPQ.js";const z={household:0,saving:1,investment:2,need:3,want:4,donation:5,status:6};function ee({shared_user:o,status:l,savings:x,investments:m,needs:i,wants:p,donations:h}){console.log("needs:",i);const[t,w]=g.useState("saving"),c=s=>{w(s)},{data:H,setData:I,post:C,reset:P,processing:R}=A({title:"",price:0,date:"",achieve:0,is_shared:0,images:"",memo:"",comment:""}),{comments:a,team_id:v,histories:U}=E().props,[_,j]=g.useState(!1),[k,b]=g.useState(null),n=(s,f,N,M,L)=>{console.log("handleGenericComment called",{item:s,type:f,userId:N,comments:a});const y=z[f],$=(a&&a.find(u=>u.target_id===s.id&&u.target_type===y))??{id:s.comment_id??0,team_id:v??0,user_id_to:N,target_type:y,target_id:s.id,title:M,date:L,comment:""};b($),j(!0)},S=s=>{C("/comments",{...s,onSuccess:()=>{j(!1),b(null)}})},T=()=>{j(!1),b(null)};return e.jsxs(O,{header:e.jsxs("h1",{className:"flex gap-2 items-center justify-center text-lg font-semibold leading-tight text-[#374151]",children:[e.jsx(D,{userId:o.id}),e.jsx("p",{className:"leading-none",children:o.name})]}),children:[e.jsx(W,{title:`${o.name}`}),e.jsxs("div",{className:"max-w-4xl mx-auto py-4 space-y-5",children:[e.jsxs("section",{className:"w-full p-2 border border-t-4 border-t- border-gray-300 rounded-md",children:[e.jsxs("h2",{className:"flex items-center justify-center gap-2 w-full border-b border-gray-300 pb-2 text-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:24,height:24,children:e.jsx("path",{d:"M512 32c0 113.6-84.6 207.5-194.2 222c-7.1-53.4-30.6-101.6-65.3-139.3C290.8 46.3 364 0 448 0l32 0c17.7 0 32 14.3 32 32zM0 96C0 78.3 14.3 64 32 64l32 0c123.7 0 224 100.3 224 224l0 32 0 160c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-160C100.3 320 0 219.7 0 96z",fill:"#374151"})}),"ステータス"]}),l&&l.is_shared===1?e.jsx("ul",{className:"py-4",children:e.jsxs("li",{className:"space-y-2",children:[e.jsxs("p",{children:["ユーザーID: ",l.user_id]}),e.jsxs("p",{children:["貯金",e.jsx(r,{price:l.saving})]}),e.jsxs("p",{children:["投資",e.jsx(r,{price:l.investment})]}),e.jsxs("p",{children:["必要",e.jsx(r,{price:l.need})]}),e.jsxs("p",{children:["欲しい",e.jsx(r,{price:l.want})]}),e.jsxs("p",{children:["寄付",e.jsx(r,{price:l.donation})]}),e.jsxs("p",{children:["レベル",e.jsx(r,{price:l.game_level})]})]})}):e.jsx("p",{className:"p-4 text-gray-500",children:"公開されているステータスはありません。"})]}),e.jsxs("div",{className:"overflow-hidden border-r border-l border-b pb-2 rounded-md",children:[e.jsxs("div",{className:"flex",children:[e.jsx("label",{className:`flex-1 order-[-1] min-w-[70px] px-4 pt-3 pb-2 text-gray-700 text-sm text-center cursor-pointer hover:opacity-80 ${t==="saving"?"bg-white border-t-[#2589d0] border-t-4":"bg-[#e9f0f6]"}`,onClick:()=>c("saving"),children:e.jsx("span",{className:"hidden md:block",children:"ちょきん"})}),e.jsx("label",{className:`flex-1 order-[-1] min-w-[70px] px-4 pt-3 pb-2 border-gray-100 text-gray-700 text-sm text-center cursor-pointer hover:opacity-80 ${t==="investment"?"bg-white border-t-[#2589d0] border-t-4":"bg-[#e9f0f6]"}`,onClick:()=>c("investment"),children:e.jsx("span",{className:"hidden md:block",children:"とうし"})}),e.jsx("label",{className:`flex-1 order-[-1] min-w-[70px] px-4 pt-3 pb-2 border-gray-100 text-gray-700 text-sm text-center cursor-pointer hover:opacity-80 ${t==="need"?"bg-white border-t-[#2589d0] border-t-4":"bg-[#e9f0f6]"}`,onClick:()=>c("need"),children:e.jsx("span",{className:"hidden md:block",children:"ひつよう"})}),e.jsx("label",{className:`flex-1 order-[-1] min-w-[70px] px-4 pt-3 pb-2 border-gray-100 text-gray-700 text-sm text-center cursor-pointer hover:opacity-80 ${t==="want"?"bg-white border-t-[#2589d0] border-t-4":"bg-[#e9f0f6]"}`,onClick:()=>c("want"),children:e.jsx("span",{className:"hidden md:block",children:"ほしい"})}),e.jsx("label",{className:`flex-1 order-[-1] min-w-[70px] px-4 pt-3 pb-2 border-gray-100 text-gray-700 text-sm text-center cursor-pointer hover:opacity-80 ${t==="donation"?"bg-white border-t-[#2589d0] border-t-4":"bg-[#e9f0f6]"}`,onClick:()=>c("donation"),children:e.jsx("span",{className:"hidden md:block",children:"きふ"})})]}),t==="saving"&&e.jsxs("section",{className:"w-full px-2",children:[e.jsx("h2",{className:"sr-only",children:"貯金"}),x&&x.length>0?e.jsx("ul",{className:"p-4 space-y-8",children:x.map(s=>e.jsxs("li",{className:"",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:s.title}),e.jsxs("p",{className:"flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"目標金額"}),"¥",s.amount.toLocaleString()]}),e.jsxs("p",{className:"flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"達成日目標"}),s.deadline]})]}),e.jsx(d,{className:"w-full",targetType:1,comment:a,comment_id:s.id,onWriteClick:()=>n(s,"saving",s.user_id,s.title,s.deadline)})]},s.id))}):e.jsx("p",{className:"p-4 text-gray-500",children:"公開されている貯金はありません。"})]}),t==="investment"&&e.jsxs("section",{className:"w-full px-2",children:[e.jsx("h2",{className:"sr-only",children:"投資"}),m&&m.length>0?e.jsx("ul",{className:"p-4 space-y-8",children:m.map(s=>e.jsxs("li",{className:"border-b border-b-gray-200 pb-4 last:border-b-0 last:pb-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:s.title}),e.jsxs("p",{className:"flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"日付"}),s.date]}),e.jsxs("p",{className:"flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"金額"}),"¥",s.price.toLocaleString()]})]}),e.jsx(d,{className:"w-full",targetType:2,comment:a,comment_id:s.id,onWriteClick:()=>n(s,"investment",s.user_id,s.title,s.date)})]},s.id))}):e.jsx("p",{className:"p-4 text-gray-500",children:"公開されている貯金はありません。"})]}),t==="need"&&e.jsxs("section",{className:"w-full px-2",children:[e.jsx("h2",{className:"sr-only",children:"必要"}),i&&i.length>0?e.jsx("ul",{className:"p-4 space-y-8",children:i.map(s=>e.jsxs("li",{className:"border-b border-b-gray-200 pb-4 last:border-b-0 last:pb-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:s.title}),e.jsxs("p",{className:"flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"日付"}),s.date]}),e.jsxs("p",{className:"flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"金額"}),"¥",s.price.toLocaleString()]})]}),e.jsx(d,{className:"w-full",targetType:3,comment:a,comment_id:s.id,onWriteClick:()=>n(s,"need",s.user_id,s.title,s.date)})]},s.id))}):e.jsx("p",{className:"p-4 text-gray-500",children:"公開されている貯金はありません。"})]}),t==="want"&&e.jsxs("section",{className:"w-full px-2",children:[e.jsx("h2",{className:"sr-only",children:"欲しい"}),p&&p.length>0?e.jsx("ul",{className:"p-4 space-y-8",children:p.map(s=>e.jsxs("li",{className:"border-b border-b-gray-200 pb-4 last:border-b-0 last:pb-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:s.title}),e.jsxs("p",{className:"flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"日付"}),s.date]}),e.jsxs("p",{className:"flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"金額"}),"¥",s.price.toLocaleString()]})]}),e.jsx(d,{className:"w-full",targetType:4,comment:a,comment_id:s.id,onWriteClick:()=>n(s,"investment",s.user_id,s.title,s.date)})]},s.id))}):e.jsx("p",{className:"p-4 text-gray-500",children:"公開されている貯金はありません。"}),"        "]}),t==="donation"&&e.jsxs("section",{className:"w-full px-2",children:[e.jsx("h2",{className:"sr-only",children:"寄付"}),h&&h.length>0?e.jsx("ul",{className:"mt-4 p-4 space-y-8",children:h.map(s=>e.jsxs("li",{className:"border-b border-b-gray-200 pb-4 last:border-b-0 last:pb-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:s.title}),e.jsxs("p",{className:"flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"日付"}),s.date]}),e.jsxs("p",{className:"flex items-center justify-start gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400 font-bold",children:"金額"}),"¥",s.price.toLocaleString()]})]}),e.jsx(d,{className:"w-full",targetType:5,comment:a,comment_id:s.id,onWriteClick:()=>n(s,"investment",s.user_id,s.title,s.date)})]},s.id))}):e.jsx("p",{className:"p-4 text-gray-500",children:"公開されている貯金はありません。"})]})]})]}),e.jsx(G,{isCommentOpen:_,onCommentClose:T,listData:k,onSubmit:s=>S(s)})]})}export{ee as default};
